<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profile Summary</title>
    
	<th:block th:include="fragments/common :: commonHeadFragment"></th:block>
</head>
<body>
    <div th:replace="fragments/navbar"></div>

    <div class="container">
		<div id="form"  th:object="${user}" th:fragment="profile">
		    
		    <h3 th:text="'Hi ' + ${user.nickname} + ', this is your profile page'"></h3>
		    
		    <div class="col-lg-2 col-md-1">
			    <div class="thumbnail">
					<img th:if="${user.getImage() != null}" 
						th:src="@{'data:image/*;base64,'+${user.generateBase64Image()}}" alt="..."/>
					<img th:if="${user.getImage() == null}" 
						src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlQiU1yEonftm27j6_3hYC69EMvxwuFQrTJ1cgIFJMwF4tyCnG" alt="..."/>
				</div>
		    </div>
		    
			<div class="col-lg-10 col-md-10">
				<table class="table table-user-information">
			    	<tbody>
			    		<tr>
			    			<td>Registration email</td>
			    			<td th:text="${user.email}"></td>
			    		</tr>
			    		<tr>
			    			<td>Nickname</td>
			    			<td th:text="${user.nickname}"></td>
			    		</tr>
			    		<tr>
			    			<td>Gender</td>
			    			<td th:text="${user.gender}"></td>
			    		</tr>
			    		<tr>
			    			<td>Age</td>
			    			<td th:text="${user.age}"></td>
			    		</tr>
			    		<tr>
			    			<td>Education level</td>
			    			<td th:text="${user.education}"></td>
			    		</tr>
			    		<tr>
			    			<td>Current job</td>
			    			<td th:text="${user.job}"></td>
			    		</tr>
			    		<tr th:if="${user.ownCar.registrationYear} != null">
			    			<td>Car information</td>
			    			<td th:text="'Registration year: ' + ${user.ownCar.registrationYear} + ', fuel: ' + ${user.ownCar.fuelType}">No car setted</td>
			    		</tr>
			    		<tr>
			    			<td>Car sharing service</td>
			    			<td th:text="${user.carSharing}">Not used</td>
			    		</tr>
			    		<tr>
			    			<td>Bike</td>
			    			<td th:text="'Owned: ' + ${user.bikeUsage.owned}"></td>
			    		</tr>
			    		<tr>
			    			<td></td>
			    			<td th:text="'Shared: ' + ${user.bikeUsage.sharing}"></td>
			    		</tr>
			    		<tr>
			    			<td>Public transport pass</td>
			    			<td th:text="${user.pubTransport}"></td>
			    		</tr>
			    	</tbody>
			    </table>
			</div>
		    
		    <hr></hr>
		    
		    <div class="btn-group btn-group-justified" role="group" aria-label="...">
		    	<a role="button" class="btn btn-default" th:href="@{/change-nickname}">Change Nickname</a>
		    	<a role="button" class="btn btn-default" th:href="@{/change-password}">Change Password</a>
		    </div>
		</div>
	</div>
	
	<div th:replace="fragments/footer"></div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://code.jquery.com/jquery.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script th:src="@{/js/bootstrap.min.js}"></script>
</body>
</html>