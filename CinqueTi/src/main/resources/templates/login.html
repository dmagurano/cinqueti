<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login</title>

	<th:block th:include="fragments/common :: commonHeadFragment"></th:block>

    <!-- Custom styles for this template -->
	<link th:href="@{/css/signin.css}" rel="stylesheet"/>
</head>

<body>
    <div th:replace="fragments/navbar (showLogin='false')"></div>

    <div class="container">
    
        <form class="form-signin" role="form" method="POST" th:action="@{/login}">
        
            <div class="alert alert-danger" th:if="${param.error}">
                <p th:text="${#strings.arraySplit(session[SPRING_SECURITY_LAST_EXCEPTION], ':')[1]}">
                	Invalid Credentials.
                </p>
            </div>
                
		    <th:block th:if="${infoMessage} != null">
		    	<div th:replace="fragments/alert :: alert (type='info', message=${infoMessage})">Alert</div>
		    </th:block>
		    
		    <th:block th:if="${dangerMessage} != null">
		    	<div th:replace="fragments/alert :: alert (type='danger', message=${dangerMessage})">Alert</div>
		    </th:block>

            <h2 class="form-signin-heading">Please sign in</h2>
            
            <div class="form-group">
                <input type="text" class="form-control" placeholder="Email address" name="username" required="true" autofocus="true"/>
            </div>
            
            <div class="form-group">
                <input type="password" class="form-control" placeholder="Password" name="password" required="true"/>
            </div>
            
            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
        </form>
        
    </div>
	
	<div th:replace="fragments/footer"></div>
</body>
</html>